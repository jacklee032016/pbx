#
# $Id: README,v 1.1.1.1 2006/11/30 16:21:59 lizhijie Exp $
#
			README for ISDN test

目的
    本测试程序主要完成的是ISDN硬件板卡和驱动的测试，以演示系统的正确性  


说明
    这组测试程序是在现有的驱动和物理层配置的情况下使用的。
    具体的配置是NT设备在驱动中，只存在L1，其余在用户空间的程序中。
    TE设备，L1～L3都存在于核心空间
			

编译
    编译后，生成
        一个共享库：libisdn_test.so
        两个测试程序：
            tecall：设备接口为TE模式的呼叫
            ntcall：设备接口为NT模式的呼叫
        测试程序需要的语音文件为
            greeting2.u，这个文件需要放在与测试程序相同的目录下


测试说明
    驱动程序的加载
        驱动程序的加载和设备文件的创建，请参考kernel/linux-2.4.x/driver/assist/isdn
        下的readme文件
        有三个脚本：
            mkdev.sh：创建设备文件
            start.sh：加载驱动
            stop.sh：卸载驱动


    ntcall
        在硬件和驱动配置为NT模式的设备接口上呼叫（IXP4xx作为主叫）
        
        使用：
            在NT的接口上连接一个TA，TA上连接话机，启动ntcall程序
            首先NT接口对应的的LED变为红色，然后TA上的话机开始振铃
            话机摘机，就可以听到程序发出的语音          
            
            话机挂机，程序自动退出
            
    tecall
        在硬件和驱动都配置为TE模式的设备接口上呼叫（IXP4xx作为主叫）
        
        使用：
             将IXP4xx上的ISDN端口连接到PL-20交换机的CH-2上
             将TA连接到PL-20交换机的CH-1上
             启动tecall程序
             现象：
                 首先，ISDN卡上该端口为红色
                 PL-20交换机的CH-2为红色-->黄色
                 PL-20交换机的CH-1为红色-->黄色
                 TA上的呼叫振铃
                 话机摘机，可以听到语音
                 挂机，程序退出
        
        	

    说明
        驱动加载后，可以“cat /proc/astel/isdn”来查看每个端口的驱动软件配置
        
	设备的硬件配置，主要是该接口的jump switch的配置
	
	在第一次呼叫时，一般比较慢，有时也可能呼叫不成功，主要是L1层的active
	操作还没有完成。这种情况下，一般立即在开始第二次呼叫就可以成功
	特别是在TE模式下，这种情况比较容易出现
	