# $Id: README,v 1.1 2007/05/30 19:19:48 lizhijie Exp $
				README for DDNS
				         Li Zhijie 2007.05.28

2007.05.29
   认证过程的算法

   认证成功后域名的注册
       接受该用户的所有域名
       根据需要发出域名注册请求
       发出域名确认请求
       接受到n个域名注册的响应
       接受会话码（第一个整数）和序号（第二个整数）
       退出TCP连接


本程序是花生壳系统的客户端

软件的流程
   1、握手阶段
      TCP协议
      认证过程
          建立TCP连接
          服务器返回220
          
          发出AUTH ROUTER
          服务器返回Base64形式编码的串
          
          使用Base64串、本地的用户名和口令产生加密的信息
          发出加密后的串
          服务器返回认证通过与否的信息
          
      检索帐号所有的域名记录
          认证通过后，循环读取该用户的域名，直到行的第一个字符为“.”
          
          注册所有的域名
          发出confirm
          
          推出TCP的注册过程，关闭TCP连接
   
   2、心跳阶段
      UDP协议：UDP收到端口均为6060
      
      使用BlowFish加密心跳请求
      
      使用BlowFish解密心跳应答
      

加密和认证的流程
    握手阶段的加密过程
        Base64解码服务器传来的串：解出的是服务器端的KEY
        使用服务器的KEY，本地的口令，使用MD5编码产生信息摘要（degist）
        对信息摘要和用户名作Base64编码
   
   
    心跳请求的BlowFish算法加密
        将服务器发回的Base64编码的Key解出
        使用该Key对发出的UDP更新报文采用BlowFish算法产生信息摘要：
            只更新UDP报文中的Op码
        发出UDP更新报文
    
    心跳响应的BlowFish算法解密
        对服务器返回的心跳应答BlowFish解码

				         